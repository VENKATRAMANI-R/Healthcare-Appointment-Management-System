<header class="professional-header">
  <div class="header-content">
    <div class="header-text">
      <h1>Find Your Healthcare Specialist</h1>
      <p>Connect with experienced medical professionals for your healthcare needs</p>
    </div>
    <div class="search-container">
      <div class="search-box">
        <input
          type="text"
          placeholder="Search by doctor name, specialization, or qualification..."
          (input)="onSearch($event)"
          [value]="searchQuery"
          class="search-input"
        />
        <button (click)="performSearch()" class="search-btn">
          <span class="search-icon">üîç</span>
          Search
        </button>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <aside class="filters-sidebar">
    <div class="filters-header">
      <h2>Filter by Specialty</h2>
      <button *ngIf="activeFilters.size > 0 || searchQuery" 
              (click)="clearFilters()" 
              class="clear-filters-btn">
        Clear All
      </button>
    </div>

    <div class="filter-group">
      <ul class="specialization-options">
        <li *ngFor="let specialization of specializations">
          <label class="filter-option">
            <input 
              type="checkbox" 
              [checked]="activeFilters.has(specialization)"
              (change)="toggleFilter(specialization)" 
            />
            <span class="checkmark"></span>
            {{ specialization }}
          </label>
        </li>
      </ul>
    </div>

    <div class="active-filters" *ngIf="activeFilters.size > 0">
      <h3>Active Filters:</h3>
      <div class="filter-tags">
        <span *ngFor="let filter of activeFilters" class="filter-tag">
          {{ filter }}
        </span>
      </div>
    </div>
  </aside>

  <main class="doctors-main">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-state">
      <div class="loading-spinner"></div>
      <p>Loading healthcare professionals...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="errorMessage && !isLoading" class="error-state">
      <div class="error-icon">‚ö†Ô∏è</div>
      <h3>Unable to Load Doctors</h3>
      <p>{{ errorMessage }}</p>
      <button (click)="loadDoctors()" class="retry-btn">Try Again</button>
    </div>

    <!-- No Results State -->
    <div *ngIf="!isLoading && !errorMessage && filteredDoctors.length === 0 && hasSearched" 
         class="no-results-state">
      <div class="no-results-icon">üë®‚Äç‚öïÔ∏è</div>
      <h3>No Doctors Found</h3>
      <p>We couldn't find any doctors matching your search criteria.</p>
      <button (click)="clearFilters()" class="clear-search-btn">Clear Search & Filters</button>
    </div>

    <!-- Empty State (initial) -->
    <div *ngIf="!isLoading && !errorMessage && filteredDoctors.length === 0 && !hasSearched" 
         class="empty-state">
      <div class="empty-icon">üè•</div>
      <h3>No Doctors Available</h3>
      <p>Currently, there are no doctors available in our system.</p>
    </div>

    <!-- Doctors Grid -->
    <div *ngIf="!isLoading && !errorMessage && filteredDoctors.length > 0" class="doctors-grid">
      <div class="results-info">
        <p>Showing {{ filteredDoctors.length }} of {{ doctors.length }} healthcare professionals</p>
      </div>
      
      <div class="doctors-list">
        <article *ngFor="let doctor of filteredDoctors" class="doctor-card professional-card">
          <div class="doctor-image-container">
            <img 
              [src]="doctor.image || 'assets\doctor-default.png'" 
              [alt]="'Photo of ' + doctor.name"
              class="doctor-photo"
              (error)="doctor.image = 'assets\doctor-default.png'"
            />
            <div class="experience-badge">
              {{ getYearsOfExperience(doctor.experience) }} exp
            </div>
          </div>
          
          <div class="doctor-info">
            
            <h2 class="doctor-name">{{ doctor.name }}</h2>
            <p class="doctor-specialization">{{ doctor.specialization }}</p>
            <p class="doctor-qualification">{{ doctor.qualification }}</p>
            
            <div class="doctor-meta">
              <span class="meta-item">
                <strong>ID:</strong> {{ doctor.id }}
              </span>
              <span class="meta-item">
                <strong>Experience:</strong> {{ getYearsOfExperience(doctor.experience) }}
              </span>
            </div>
          </div>
          
          <button 
            (click)="selectDoctor(doctor)" 
            class="book-appointment-btn"
          >
            Book Consultation
          </button>
        </article>
      </div>
    </div>
  </main>
</div>